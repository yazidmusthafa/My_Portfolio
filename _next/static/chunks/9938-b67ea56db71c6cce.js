(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9938],{9938:function(e,s,_){"use strict";var t=_(85893),n=_(67294),a=_(52641),l=_(83277),i=_(37442),r=_(47269),o=_(16310),d=_(11163),c=_(11796),m=_.n(c),B=_(86426),u=_(5434),x=_(30624),g=_(19039),p=_(25675),h=_.n(p),f=_(8026),v=_(8193);let w=e=>{var s,_;let{show:c,handleClose:p,websiteId:w,invite:j,token:y,referral:b,showCloseButton:N=!0,title:S}=e,[L,Z]=(0,n.useState)(!1),[P,C]=(0,n.useState)(e.mode),[I,k]=(0,n.useState)(""),G=(0,d.useRouter)(),[E,F]=(0,n.useState)(!1),[q,Q]=(0,n.useState)(!1),[A,M]=(0,n.useState)({}),[W,U]=(0,n.useState)(!1),[z,K]=(0,n.useState)(),{showModal:R}=(0,f.d)(),T=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,V=e=>{if(window){var s;null==window||null===(s=window.fpr)||void 0===s||s.call(window,"referral",{email:e})}},X=e=>{let s=!0;return e.email?T.test(e.email)||(M(e=>({...e,email:"Please enter a valid email"})),s=!1):(M(e=>({...e,email:"Email is required"})),s=!1),s},J=e=>{var s,_;let t=!0;return e.password?((null===(s=e.password)||void 0===s?void 0:s.length)>15||(null===(_=e.password)||void 0===_?void 0:_.length)<7)&&(M(e=>({...e,password:"Password must be 7 to 15 characters"})),t=!1):(M(e=>({...e,password:"Password is required"})),t=!1),t},O=e=>{let s=!0;return e.confirmPassword?e.confirmPassword!==e.password&&(M(e=>({...e,confirmPassword:" Passwords must match."})),s=!1):(M(e=>({...e,confirmPassword:"Confirm Password is required"})),s=!1),s},D=()=>{if(null==e?void 0:e.returnUrl)window.open(e.returnUrl,"_self");else{let s=sessionStorage.getItem("redirectPath");s?(sessionStorage.removeItem("redirectPath"),G.push(s)):(null==e?void 0:e.websiteId)?G.push("/dashboard/".concat(e.websiteId,"/go-live")):G.push("/dashboard")}},H=s=>{var _,t;let n=X({email:(null==z?void 0:null===(_=z.subuser)||void 0===_?void 0:_.email)||s.email}),a=J(s);n&&a&&(Z(!0),l.Z.login((null==z?void 0:null===(t=z.subuser)||void 0===t?void 0:t.email)||s.email,s.password,e.websiteId,null==e?void 0:e.appsumoLicenseId,b,y).then(e=>{e.errors?(e.email||e.password||R({message:e.msg||"Something went wrong",type:"error"}),M(s=>({...e}))):(D(),Z(!1))}).catch(e=>{R({message:"Incorrect Email or Password. Please try again.",type:"error"})}).finally(()=>{Z(!1)}))},$=async s=>{var _,t,n;let a=X({email:(null==z?void 0:null===(_=z.subuser)||void 0===_?void 0:_.email)||s.email}),i=J(s),r=O(s);a&&i&&r&&(Z(!0),(e.websiteId||(null==e?void 0:e.appsumoLicenseId)?l.Z.register({email:(null==z?void 0:null===(t=z.subuser)||void 0===t?void 0:t.email)||s.email,password:s.password,websiteId:e.websiteId,appsumoLicenseId:e.appsumoLicenseId,referral:b,token:y}):l.Z.registerBareAccount({email:(null==z?void 0:null===(n=z.subuser)||void 0===n?void 0:n.email)||s.email,password:s.password,referral:b,token:y})).then(e=>{if(e.errors)e.email||e.password||R({message:e.msg||"Something went wrong",type:"error"}),M(s=>({...e}));else{var _;V((null==z?void 0:null===(_=z.subuser)||void 0===_?void 0:_.email)||s.email),U(!0),setTimeout(()=>{D(),Z(!1)},3e3)}}).catch(e=>{var s,_;R({message:(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(_=s.data)||void 0===_?void 0:_.msg)||I,type:"error"}),Z(!1)}).finally(()=>{}))},Y=(0,B.Nq)({onSuccess:s=>{Z(!0),l.Z.googleRegister(s.access_token,e.websiteId,null==e?void 0:e.appsumoLicenseId,b,y).then(e=>{var s,_,t,n;(null==e?void 0:null===(s=e.data)||void 0===s?void 0:null===(_=s.profile)||void 0===_?void 0:_.email)&&V(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.profile)||void 0===n?void 0:n.email),U(!0),setTimeout(()=>{D(),Z(!1)},3e3)}).catch(e=>{var s,_,t,n;(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(_=s.data)||void 0===_?void 0:_.msg)?R({message:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.msg)||"Something went wrong",type:"error"}):R({message:"Something went wrong",type:"error"}),Z(!1)})}}),ee=(0,B.Nq)({onSuccess:s=>{Z(!0),l.Z.googleLogin(s.access_token,e.websiteId,null==e?void 0:e.appsumoLicenseId,b,y).then(()=>{D()}).catch(e=>{var s,_,t,n;(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(_=s.data)||void 0===_?void 0:_.msg)?R({message:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.msg)||"Something went wrong",type:"error"}):R({message:"Something went wrong",type:"error"}),Z(!1)})}}),es=async(e,s)=>{let{data:_}=await (0,g.n0)({user_id:e,subuser_id:s});K(_)};return(0,n.useEffect)(()=>{"dashboard_access"===j&&y&&b&&es(b,y)},[j,y,b]),(0,t.jsx)(t.Fragment,{children:c?(0,t.jsxs)(t.Fragment,{children:[W&&(0,t.jsx)(x.c,{type:"newuser"}),(0,t.jsx)("div",{className:"B__justify-center B__items-center B__flex B__overflow-x-hidden B__overflow-y-auto B__fixed B__inset-0 B__z-[999999] B__outline-none focus:B__outline-none",children:(0,t.jsx)("div",{className:"B__relative B__my-6 B__mx-auto B__w-[85%] lg:B__max-w-[500px] xl:B__max-w-[550px] 2xl:B__max-w-[700px]",children:(0,t.jsxs)("div",{className:"B__border-0 B__rounded B__shadow-lg B__relative B__flex B__flex-col B__w-full B__bg-white B__outline-none focus:B__outline-none ",children:[(0,t.jsxs)("div",{className:"B__flex B__items-start B__justify-center B__px-7 B__border-b B__border-solid B__border-blueGray-200",children:[(0,t.jsx)("div",{className:"B__w-full B__h-full",children:(0,t.jsx)(h(),{src:"https://s3.amazonaws.com/media-prod.butternut.ai/static-images/Logo.png",alt:"Butternut AI",width:150,height:60,className:"B__w-auto B__h-full B__max-h-[70px]"})}),N?(0,t.jsx)("button",{className:"B__p-1 B__ml-auto B__my-auto B__bg-transparent B__border-0 B__text-black B__float-right B__text-3xl B__leading-none B__font-semibold B__outline-none focus:B__outline-none",onClick:p,children:(0,t.jsx)(u.FU5,{className:"B__text-2xl B__text-gray-600"})}):(0,t.jsx)("div",{className:"B__ml-auto"})]}),(0,t.jsx)("div",{className:m().body,children:(0,t.jsx)("div",{className:m().form,children:(0,t.jsxs)("div",{className:m().formContent,children:["login"===P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"B__flex B__gap-1 B__items-end B__justify-center B__mt-5 B__mb-4",children:(0,t.jsx)("span",{className:"B__text-center B__font-bold B__text-xl lg:B__text-2xl",children:S||"Login"})}),(0,t.jsxs)("div",{className:"B__flex B__items-center B__text-center B__w-full B__justify-center B__gap-1 B__text-base",children:["Don't have an Account? ",(0,t.jsx)("span",{className:"B__cursor-pointer B__font-bold B__text-[#6358dc] B__underline",onClick:()=>{M({}),C("register")},children:"Sign up!"})]}),(0,t.jsxs)("button",{type:"submit",className:"B__flex B__w-full B__bg-white B__font-normal B__justify-center B__items-center B__gap-2 B__py-3.5 B__px-3 B__rounded-md B__my-4 B__mt-5 B__text-sm B__text-[#2f2f2f]",style:{boxShadow:" 0px 4px 15px 0px #0000001C"},onClick:()=>ee(),children:[(0,t.jsx)("img",{src:"/images/logo/logo-google.png",alt:"Google Logo",style:{marginRight:"0.5rem",width:"24px"}}),(0,t.jsx)("span",{style:{fontSize:"14px"},children:"Login with Google"})]}),(0,t.jsx)("div",{className:m().divWithLine,children:(0,t.jsx)("span",{children:"Or"})}),(0,t.jsx)(i.J9,{initialValues:{email:(null==z?void 0:null===(s=z.subuser)||void 0===s?void 0:s.email)||"",password:""},onSubmit:H,children:e=>{var s,_;let{values:n,handleSubmit:l,handleChange:i}=e;return(0,t.jsxs)("form",{onSubmit:l,className:"B__flex-1 B__mt-5 lg:B__mt-7",children:[(0,t.jsxs)(a.Z.Group,{className:"B__flex B__items-center B__justify-start B__bg-[#ececec] B__py-2.5 B__px-6 B__gap-4 B__rounded-md B__mt-5",children:[(0,t.jsx)(u.F8X,{className:"B__text-2xl"}),(0,t.jsxs)("div",{className:"B__flex B__flex-col B__gap-0.5 B__w-full ",children:[(0,t.jsx)("div",{className:"B__text-xs B__font-medium ",children:"Email"}),(0,t.jsx)(r.Z,{name:"email",type:"email",placeholder:"abc@example.com",handleChange:e=>{M(e=>({...e,email:""})),i(e)},value:(null==z?void 0:null===(s=z.subuser)||void 0===s?void 0:s.email)||n.email,className:"".concat(m().formInput," !B__m-0 !B__p-0 disabled:!B__opacity-70"),styles:{margin:0},containerStyle:{margin:0},disabled:null!=z&&null!==(_=z.subuser)&&void 0!==_&&!!_.email})]})]}),(0,t.jsx)("p",{className:"text-danger error-message",children:A.email}),(0,t.jsxs)(a.Z.Group,{className:"B__flex B__items-center B__justify-start B__bg-[#ececec] B__py-2.5 B__px-6 B__gap-4 B__rounded-md B__mt-5",children:[(0,t.jsx)(u.ZSL,{className:"B__text-2xl"}),(0,t.jsxs)("div",{className:"B__flex B__flex-col B__gap-0.5 B__w-full ",children:[(0,t.jsx)("div",{className:"B__text-xs B__font-medium ",children:"Password"}),(0,t.jsx)(r.Z,{name:"password",type:"password",placeholder:"********",handleChange:e=>{M(e=>({...e,password:""})),i(e)},value:n.password,className:"".concat(m().formInput," !B__m-0 !B__p-0"),styles:{margin:0},containerStyle:{margin:0}})]})]}),(0,t.jsx)("p",{className:"text-danger error-message",children:A.password}),(0,t.jsx)("div",{className:"B__cursor-pointer B__text-sm B__text-[#6358dc] B__mt-3",onClick:()=>{M({}),C("reset")},children:" Forgot Password?"}),(0,t.jsxs)("button",{type:"submit",className:"B__flex B__items-center B__gap-2 B__justify-center B__w-full B__bg-butternut-button B__text-white B__text-center B__px-4 B__py-4 B__my-4 B__rounded-md",children:[L?"Logging in...":"Login"," ",L?(0,t.jsx)(v.Z7b,{className:"B__animate-spin B__ml-2 B__text-lg"}):(0,t.jsx)(t.Fragment,{})]})]})}})]}):"register"===P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"B__flex B__gap-1 B__items-end B__justify-center B__mt-5 B__mb-4",children:(0,t.jsx)("span",{className:"B__text-center B__font-bold B__text-xl lg:B__text-2xl",children:"Sign Up"})}),(0,t.jsxs)("div",{className:"B__flex B__items-center B__text-center B__w-full B__justify-center B__gap-1",children:["Already have an account? ",(0,t.jsx)("span",{className:"B__cursor-pointer B__text-[#6358dc] B__font-bold B__underline",onClick:()=>{M({}),C("login")},children:"Log in!"})]}),(0,t.jsxs)("button",{type:"submit",className:"B__flex B__w-full B__bg-white B__font-normal B__justify-center B__items-center B__gap-2 B__py-3.5 B__px-3 B__rounded-md B__my-4 B__mt-5 B__text-sm B__text-[#2f2f2f]",style:{boxShadow:" 0px 4px 15px 0px #0000001C"},onClick:()=>Y(),children:[(0,t.jsx)("img",{src:"/images/logo/logo-google.png",alt:"Google Logo",style:{marginRight:"0.5rem",width:"24px"}}),(0,t.jsx)("span",{style:{fontSize:"14px"},children:"Sign Up with Google"})]}),(0,t.jsx)("div",{className:m().divWithLine,children:(0,t.jsx)("span",{children:"Or"})}),(0,t.jsx)(i.J9,{initialValues:{email:(null==z?void 0:null===(_=z.subuser)||void 0===_?void 0:_.email)||"",password:"",confirmPassword:""},onSubmit:$,children:e=>{var s,_;let{values:n,handleSubmit:l,handleChange:i}=e;return(0,t.jsxs)("form",{onSubmit:l,className:"B__flex-1 B__mt-5 lg:B__mt-7",children:[(0,t.jsxs)(a.Z.Group,{className:"B__flex B__items-center B__justify-start B__bg-[#ececec] B__py-2.5 B__px-6 B__gap-4 B__rounded-md B__mt-5",children:[(0,t.jsx)(u.F8X,{className:"B__text-2xl"}),(0,t.jsxs)("div",{className:"B__flex B__flex-col B__gap-0.5 B__w-full ",children:[(0,t.jsx)("div",{className:"B__text-xs B__font-medium",children:"Email"}),(0,t.jsx)(r.Z,{name:"email",type:"email",placeholder:"abc@example.com",handleChange:e=>{M(e=>({...e,email:""})),i(e)},value:(null==z?void 0:null===(s=z.subuser)||void 0===s?void 0:s.email)||n.email,className:"".concat(m().formInput," !B__m-0 !B__p-0 disabled:!B__opacity-70"),styles:{margin:0},containerStyle:{margin:0},disabled:null!=z&&null!==(_=z.subuser)&&void 0!==_&&!!_.email})]})]}),(0,t.jsx)("p",{className:"text-danger error-message",children:A.email}),(0,t.jsxs)(a.Z.Group,{className:"B__flex B__items-center B__justify-start B__bg-[#ececec] B__py-2.5 B__px-6 B__gap-4 B__rounded-md B__mt-5",children:[(0,t.jsx)(u.ZSL,{className:"B__text-2xl"}),(0,t.jsxs)("div",{className:"B__flex B__flex-col B__gap-0.5 B__w-full ",children:[(0,t.jsx)("div",{className:"B__text-xs B__font-medium ",children:"Password"}),(0,t.jsx)(r.Z,{name:"password",type:"password",placeholder:"********",handleChange:e=>{M(e=>({...e,password:""})),i(e)},value:n.password,className:"".concat(m().formInput," !B__m-0 !B__p-0"),styles:{margin:0},containerStyle:{margin:0}})]})]}),(0,t.jsx)("p",{className:"text-danger error-message",children:A.password}),(0,t.jsxs)(a.Z.Group,{className:"B__flex B__items-center B__justify-start B__bg-[#ececec] B__py-2.5 B__px-6 B__gap-4 B__rounded-md B__mt-5",children:[(0,t.jsx)(u.ZSL,{className:"B__text-2xl"}),(0,t.jsxs)("div",{className:"B__flex B__flex-col B__gap-0.5 B__w-full ",children:[(0,t.jsx)("div",{className:"B__text-xs B__font-medium",children:"Confirm Password"}),(0,t.jsx)(r.Z,{name:"confirmPassword",type:"password",placeholder:"********",handleChange:e=>{M(e=>({...e,confirmPassword:""})),i(e)},value:n.confirmPassword,className:"".concat(m().formInput," !B__m-0 !B__p-0"),styles:{margin:0},containerStyle:{margin:0}})]})]}),(0,t.jsx)("p",{className:"text-danger error-message",children:A.confirmPassword}),(0,t.jsxs)("button",{type:"submit",className:"B__flex B__items-center B__gap-2 B__justify-center B__w-full B__bg-butternut-button B__text-white B__text-center B__px-4 B__py-4 B__my-5 B__rounded-md",children:[L?"Signing up...":"Sign Up"," ",L?(0,t.jsx)(v.Z7b,{className:"B__animate-spin B__ml-2 B__text-lg"}):(0,t.jsx)(t.Fragment,{})]})]})}})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"B__flex B__gap-1 B__items-end B__justify-center B__mt-5 B__mb-4",children:(0,t.jsx)("span",{className:"B__text-center B__font-bold B__text-xl lg:B__text-2xl",children:"Reset Password"})}),(0,t.jsxs)("div",{className:"B__flex B__items-center B__text-center B__w-full B__justify-center B__gap-1",children:["Remember password? Go back to",(0,t.jsx)("span",{className:"B__cursor-pointer B__text-[#6358dc] B__underline",onClick:()=>{M({}),C("login")},children:"Log in"})," screen."]}),(0,t.jsx)("p",{className:"B__mt-4 B__mb-0 B__text-base B__text-center",children:E?"Please check your email for instructions to reset password.":"Please enter your email to recover password"}),!E&&(0,t.jsx)(i.J9,{initialValues:{email:""},validationSchema:o.Ry().shape({email:o.Z_().required("Email is required").email("Please enter a valid email")}),onSubmit:e=>{Q(!0),X(e)&&l.Z.forgotPassword(e.email).then(()=>F(!0)).finally(()=>Q(!1))},children:e=>{let{values:s,handleChange:_,handleSubmit:n}=e;return(0,t.jsxs)("form",{onSubmit:n,className:"B__flex-1 B__mt-5 lg:B__mt-7",children:[(0,t.jsxs)(a.Z.Group,{className:"B__flex B__items-center B__justify-start B__bg-[#ececec] B__py-2.5 B__px-6 B__gap-4 B__rounded-md B__mt-5",children:[(0,t.jsx)(u.F8X,{className:"B__text-2xl"}),(0,t.jsxs)("div",{className:"B__flex B__flex-col B__gap-0.5 B__w-full ",children:[(0,t.jsx)("div",{className:"B__text-xs B__font-medium",children:"Email"}),(0,t.jsx)(r.Z,{name:"email",type:"email",placeholder:"abc@example.com",handleChange:e=>{M(e=>({...e,email:""})),_(e)},value:s.email,className:"".concat(m().formInput," !B__m-0 !B__p-0"),styles:{margin:0},containerStyle:{margin:0}})]})]}),(0,t.jsx)("p",{className:"text-danger error-message",children:A.email}),(0,t.jsx)("button",{type:"submit",className:"B__w-full B__bg-butternut-button B__text-white B__text-center B__px-4 B__py-4 B__my-5 B__rounded-md",disabled:q,children:"Forgot Password"})]})}})]}),(0,t.jsx)("div",{className:"B__text-xs B__text-center B__text-[#707070]",children:(0,t.jsxs)("div",{children:["*By continuing, you agree to our"," ",(0,t.jsx)("a",{href:"/terms-of-use",style:{color:"#fc6c84"},target:"_blank",children:"Terms of use"})," ","and "," ",(0,t.jsx)("a",{href:"/privacy",style:{color:"#fc6c84"},target:"_blank",children:"Privacy Policy."})]})})]})})})]})})}),(0,t.jsx)("div",{className:"B__opacity-50 B__fixed B__inset-0 B__z-[99999] B__bg-black"})]}):null})};s.Z=w},30624:function(e,s,_){"use strict";_.d(s,{a:function(){return l},c:function(){return i}});var t=_(85893),n=_(4298),a=_.n(n);_(67294);let l=e=>{let{subscription_id:s,payment_intent_id:_,website_id:n,price:l="20",currency:i="USD",plan:r="plan-3"}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a(),{id:"gtag-purchase-conversion",strategy:"afterInteractive",children:"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            \n            gtag('event', 'purchase', {\n              'transaction_id': '".concat(s,"',\n              'value': ").concat(l,",\n              'currency': '").concat(i,"',\n              'items': [{\n                'item_id': '").concat(n,"',\n                'item_name': '").concat(r,"',\n                'price': ").concat(l,",\n                'quantity': 1\n              }]\n            });\n          ")})})},i=e=>{let{type:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a(),{id:"gtag-conversion",strategy:"afterInteractive",children:"newuser"===s?"\n            gtag('event', 'newuser', {\n              'send_to': 'AW-16685749066/yQjtCMK_0uoZEMqmsZQ-'\n            });\n          ":"signup"===s?"\n            gtag('event', 'signup', {\n              'send_to': 'AW-16685749066/yQjtCMK_0uoZEMqmsZQ-'\n            });\n          ":"contact"===s?"\n            gtag('event', 'contact', {\n              'send_to': 'AW-16685749066/yQjtCMK_0uoZEMqmsZQ-'\n            });\n          ":"subscribe"===s?"\n          gtag('event', 'subscribe', {\n            'send_to': 'AW-16685749066/yQjtCMK_0uoZEMqmsZQ-'\n          });\n        ":"connectdomain"===s?"\n        gtag('event', 'connectdomain', {\n          'send_to': 'AW-16685749066/yQjtCMK_0uoZEMqmsZQ-'\n        });\n      ":"publish"===s?"\n      gtag('event', 'publish', {\n        'send_to': 'AW-16685749066/yQjtCMK_0uoZEMqmsZQ-'\n      });\n    ":"checkout"===s?"\n    gtag('event', 'checkout', {\n      'send_to': 'AW-16685749066/yQjtCMK_0uoZEMqmsZQ-'\n    });\n  ":""})})}},47269:function(e,s,_){"use strict";var t=_(85893);let n=e=>(0,t.jsx)("div",{style:{display:"flex",flex:1,margin:"15px 0",...e.containerStyle},children:(0,t.jsx)("input",{type:e.type,name:e.name,placeholder:e.placeholder,onChange:e.handleChange,value:e.value,style:e.styles,className:"form-control ".concat(e.className),disabled:e.disabled})});s.Z=n},11796:function(e){e.exports={modalBody:"BLogin_modalBody__2tyGb",body:"BLogin_body__TCUx_",img:"BLogin_img__6lkkp",form:"BLogin_form__hnHEV",header:"BLogin_header__XNHue",formContent:"BLogin_formContent__svkmL",text:"BLogin_text__GGxbP",formGroup:"BLogin_formGroup__OCZNk",formlabel:"BLogin_formlabel__d2FBh",formInput:"BLogin_formInput__SHc6n",forgetPassword:"BLogin_forgetPassword__rXxBK",btn:"BLogin_btn__PQTPz","error-message":"BLogin_error-message__Ni6S3",divWithLine:"BLogin_divWithLine__fnb9D",btnGoogle:"BLogin_btnGoogle__2hOVl",signUp:"BLogin_signUp__1FS2_",left:"BLogin_left__JcKSG"}}}]);